<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FriendFlix - Home</title>
  <style>
    /* Optimized CSS */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background-color: #000; color: #fff; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; }
    header {
      position: sticky; top: 0; background-color: #111;
      display: flex; align-items: center; justify-content: space-between;
      padding: 10px 30px; z-index: 999;
    }
    .logo { width: 120px; margin-right: 40px; }
    nav a {
      color: #fff; margin-right: 20px;
      text-decoration: none; font-size: 16px;
    }
    nav a:hover { text-decoration: underline; }
    .search-box {
	  display: flex;
	  align-items: center;
	  border: 1px solid hsla(0, 0%, 100%, 0.85);
	  padding: 4px 10px;
	  border-radius: 6px;
	  background-color: #111;
	}
	
	.search-icon {
	  font-size: 18px;
	  margin-right: 8px;
	  color: #ccc;
	}
    .search-box input {
      background: transparent; border: none;
      font-size: 14px; color: #fff;
      padding: 7px 14px 7px 7px;
      width: 212px; outline: none;
    }
    .main-video-container, .main-video {
      width: 100%; height: 98vh;
      position: relative; object-fit: cover;
      overflow: hidden; transition: opacity 0.5s ease;
    }
    .controls { position: absolute; bottom: 230px; z-index: 2; }
    .left-controls { left: 30px; }
    .right-controls { right: 30px; position: absolute; }
    .controls button {
      font-size: 38px; background: transparent;
      border: none; border-radius: 4px;
      color: white; cursor: pointer;
    }
    .hero-overlay {
      position: absolute; bottom: 230px; left: 30px;
      max-width: 600px; color: white;
      text-shadow: 0 2px 4px rgba(0,0,0,0.8);
      z-index: 2; transition: opacity 0.5s ease;
    }
    .hero-title { font-size: 64px; font-weight: bold; margin-bottom: 10px; }
    .hero-subtitle { font-size: 24px; font-weight: 600; margin-bottom: 15px; }
    .hero-desc { font-size: 16px; line-height: 1.4; margin-bottom: 20px; }
    .hero-buttons { display: flex; gap: 10px; }
    .btn {
      padding: 10px 20px; font-size: 16px;
      font-weight: bold; border-radius: 4px;
      border: none; cursor: pointer;
      transition: background 0.3s;
    }
    .btn.play { background-color: white; color: black; }
    .btn.info { background-color: rgba(109,109,110,0.7); color: white; }
    .btn.play:hover { background-color: #e6e6e6; }
    .btn.info:hover { background-color: rgba(109,109,110,1); }
    .first-section-title, .section-title {
      margin: 40px 30px 20px; font-size: 27px; position: relative; z-index: 1;
    }
    .first-section-title { margin-top: -200px; }
    .row {
      display: flex; overflow-x: auto;
      padding-left: 30px; gap: 20px;
      scroll-behavior: smooth;
    }
    .row::-webkit-scrollbar { height: 0; }
    .movie-card {
      flex: 0 0 auto; width: 180px; height: 260px;
      background-color: #222; border-radius: 6px;
      overflow: hidden; position: relative;
      transition: transform 0.3s ease; cursor: pointer;
    }
    .movie-card:hover {
      transform: scale(1.1); z-index: 2;
    }
    .movie-card img, .movie-card video {
      width: 100%; height: 100%; object-fit: cover;
      display: block;
    }
    .movie-card video { position: absolute; top: 0; left: 0; display: none; }
    .movie-card:hover video { display: block; }
    .tag {
      position: absolute; bottom: 0; left: 0;
      background-color: red; padding: 2px 8px;
      font-size: 12px; font-weight: bold;
    }
    .fullscreen-player {
      position: fixed; top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: black; z-index: 9999;
      display: none; align-items: center; justify-content: center;
    }
    .fullscreen-player video {
      width: 100%; height: 100%; object-fit: contain; background-color: black;
    }
    .more-info-modal {
      display: none; position: fixed;
      top: 50%; left: 50%; transform: translate(-50%, -50%);
      background: #111; padding: 30px;
      max-width: 600px; max-height: 600px;
      width: 90%; height: 90%; border-radius: 8px;
      z-index: 10000; color: #fff;
      box-shadow: 0 0 20px rgba(0,0,0,0.7); overflow: hidden;
    }
    .more-info-modal video {
      position: absolute; top: 0; left: 0;
      width: 100%; height: 100%; object-fit: cover;
      opacity: 0.9; z-index: 0;
    }
    .more-info-modal .content {
      position: absolute; bottom: 20px;
      left: 20px; right: 20px; z-index: 1;
    }
    .more-info-modal h1 { font-size: 36px; margin-bottom: 10px; }
    .more-info-modal .meta { font-size: 14px; color: #aaa; margin-bottom: 10px; }
    .more-info-modal .description { font-size: 16px; line-height: 1.5; }
    .more-info-modal .close-btn {
      position: absolute; top: 10px; right: 20px;
      font-size: 28px; background: none;
      color: white; border: none;
      cursor: pointer; z-index: 2;
    }
    #moreInfoBackdrop {
      display: none; position: fixed; top: 0; left: 0;
      width: 100vw; height: 100vh; background: black;
      opacity: 0.8; z-index: 9998;
    }
    .main-content.hidden, .search-results:not(.active) { display: none; }
    .search-results.active {
      display: flex; flex-wrap: wrap;
      gap: 20px; padding: 30px;
      position: absolute; top: 70px; left: 0; right: 0;
      background-color: black; z-index: 1000;
      min-height: calc(100vh - 70px); overflow-y: auto;
    }
  </style>
</head>
<body>
  <header>
  <div style="display: flex; align-items: center;">
    <img src="FriendFlix.png" class="logo" alt="FriendFlix Logo">
    <nav>
      <a href="#">Home</a>
      <a href="#">TV Shows</a>
      <a href="#">Movies</a>
      <a href="#">My List</a>
    </nav></div>
	<div class="search-box">
	  <span class="search-icon">üîç</span>
      <input type="text" id="searchInput" placeholder="Titles,people,genres..." />
    </div>
  </header>
<div class="main-content" id="mainContent">
<div class="main-video-container" id="mainContainer">
    <video class="main-video" id="mainVideo" autoplay loop muted>
      <source id="mainVideoSource" src="" type="video/mp4">
    </video>
    <div class="hero-overlay">
      <h1 class="hero-title" id="heroTitle"></h1>
      <h3 class="hero-subtitle" id="heroSubtitle"></h3>
      <p class="hero-desc" id="heroDesc"></p>
      <div class="hero-buttons">
        <button id="playFullscreen" class="btn play">‚ñ∂ Play</button>
        <button class="btn info" id="infoBtn">‚Ñπ More Info</button>
      </div>
    </div>
    <div class="controls right-controls">
      <button id="muteToggle">üîá</button>
    </div>
  </div>

  <h2 class="first-section-title">FriendFlix Originals</h2>
  <div class="row">
    <div class="movie-card" data-video="Videos/pavanPelliHighlights.mp4"><img src="Videos/pavanPelliHighlights.jpg" alt="pavanPelliHighlights"><video muted></video><div class="tag">Recently added</div></div>
    <div class="movie-card" data-video="Videos/bgmi.mp4"><img src="Videos/bgmi.jpg" alt="Movie 2"><video muted></video></div>
    <div class="movie-card" data-video="Videos/invitation.mp4"><img src="Videos/invitation.jpg" alt="Movie 3"><video muted></video></div>
    <div class="movie-card" data-video="Videos/anniversary.mp4"><img src="Videos/anniversary.jpg" alt="Movie 4"><video muted></video></div>
    <div class="movie-card" data-video="Videos/marryMe.mp4"><img src="Videos/marryMe.jpg" alt="Movie 5"><video muted></video></div>
  </div>

  <h2 class="section-title">Continue Watching for <span id="username">User</span></h2>
  <div class="row">
    <div class="movie-card" data-video="don.mp4"><img src="don.jpg" alt="Don"><video muted></video></div>
    <div class="movie-card" data-video="movie6.mp4"><img src="movie6.jpg" alt="Movie 6"><video muted></video></div>
    <div class="movie-card" data-video="movie7.mp4"><img src="movie7.jpg" alt="Movie 7"><video muted></video></div>
    <div class="movie-card" data-video="movie8.mp4"><img src="movie8.jpg" alt="Movie 8"><video muted></video></div>
  </div>

  <h2 class="section-title">Scenes from our story</h2>
  <div class="row">
    <div class="movie-card" data-video="Videos/pavanPelliHighlights.mp4"><img src="Videos/pavanPelliHighlights.jpg" alt="pavanPelliHighlights"><video muted></video></div>
    <div class="movie-card" data-video="kdrama2.mp4"><img src="kdrama2.jpg" alt="Kdrama 2"><video muted></video></div>
    <div class="movie-card" data-video="kdrama3.mp4"><img src="kdrama3.jpg" alt="Kdrama 3"><video muted></video></div>
    <div class="movie-card" data-video="kdrama4.mp4"><img src="kdrama4.jpg" alt="Kdrama 4"><video muted></video></div>
  </div>
  
  <div class="more-info-modal" id="moreInfo">
    <div class="description" id="moreInfoContent"></div>
    <video class="modal-video" id="modalVideo" autoplay loop muted playsinline>
       <source id="modalVideoSource" src="" type="video/mp4">
    </video>
      <button class="close-btn"  id="closeInfo" onclick="document.getElementById('moreInfo').style.display='none'">&times;</button>
    <div class="content">
      <h1 id="infoTitle"></h1>
      <div class="meta"  id="infoMeta"></div>
      <div class="description"  id="infoDescription">
      </div>
    </div>
  </div>
   <div id="moreInfoBackdrop"></div>
 </div>  
   
<div class="search-results" id="searchResults"></div>
  <div class="fullscreen-player" id="fullscreenPlayer">
    <button id="exitFullscreen" style="position: absolute; top: 20px; left: 30px; font-size: 30px; background: transparent; border: none; color: white; z-index: 9999; cursor: pointer;">‚Üê</button>
    <video id="fullscreenVideo" controls autoplay></video>
  </div>
  <script>
  const $ = id => document.getElementById(id);

  const mainVideo = $("mainVideo");
  const mainContainer = $("mainContainer");
  const muteBtn = $("muteToggle");
  const playBtn = $("playFullscreen");
  const fullscreenPlayer = $("fullscreenPlayer");
  const fullscreenVideo = $("fullscreenVideo");
  const infoModal = $("moreInfo");
  const infoBackdrop = $("moreInfoBackdrop");
  const infoBtn = $("infoBtn");
  const closeInfo = $("closeInfo");
  const searchInput = $("searchInput");
  const searchResults = $("searchResults");
  const mainContent = $("mainContent");
  const userName = new URLSearchParams(window.location.search).get("user") || "User";
  $("username").textContent = userName;

  let hasInteracted = false;

  muteBtn.addEventListener("click", () => {
    mainVideo.muted = !mainVideo.muted;
    muteBtn.textContent = mainVideo.muted ? "üîá" : "üîä";
  });

  playBtn.addEventListener("click", () => {
    mainVideo.pause();
    mainVideo.muted = true;
    fullscreenVideo.src = mainVideo.querySelector("source").src;
    fullscreenPlayer.style.display = 'flex';
    fullscreenVideo.play();
  });

  $("exitFullscreen").addEventListener("click", () => {
    exitFullscreen();
  });

  document.addEventListener("keydown", (e) => {
    if (e.key === 'Escape' && fullscreenPlayer.style.display === 'flex') {
      exitFullscreen();
    }
  });

  function exitFullscreen() {
    fullscreenVideo.pause();
    fullscreenPlayer.style.display = 'none';
    fullscreenVideo.removeAttribute('src');
    fullscreenVideo.load();
    mainVideo.play();
  }

  document.addEventListener("scroll", () => {
    const scrollY = window.scrollY;
    const fadeRatio = Math.max(0, 1 - scrollY / 450);
    mainContainer.style.opacity = fadeRatio;
    document.querySelector(".hero-overlay").style.opacity = fadeRatio;

    if (hasInteracted && !mainVideo.muted) {
      mainVideo.volume = fadeRatio;
    }
  });

  document.addEventListener("click", () => {
    hasInteracted = true;
    if (!mainVideo.muted) mainVideo.volume = 1;
  });

  document.querySelectorAll('.movie-card').forEach(card => {
    const video = card.querySelector('video');
    const src = card.dataset.video;

    card.addEventListener('mouseenter', () => {
      video.src = src;
      video.load();
      video.onloadedmetadata = () => {
        video.currentTime = Math.random() * Math.max(0, video.duration - 10);
        video.play();
        setTimeout(() => video.pause(), 10000);
      };
    });

    card.addEventListener('mouseleave', () => {
      video.pause();
      video.currentTime = 0;
    });

    card.addEventListener('click', () => {
      fullscreenVideo.src = src;
      fullscreenPlayer.style.display = 'flex';
      fullscreenVideo.play();
    });
  });

  const heroVideos = [
    {
      src: "Videos/invitation.mp4",
      title: "The Invitation",
      subtitle: "A prelude to love, filmed in the heart of Araku",
      desc: "Shot in the serene hills of Araku, Kavya and Bhargav's pre-wedding journey unfolds like a dream ‚Äî a celebration of love, laughter, and the promise of always.",
      meta: "2022 | Pre-Wedding Short Film | Telugu | Araku",
      info: `Kavya and Bhargav‚Äôs love story unfolds in this intimate pre-wedding shoot, filmed in the serene landscapes of Araku.<br>
             Shot exclusively for their wedding invitation, this cinematic journey captures the joy, charm, and timeless bond of two hearts becoming one.<br><br>
             <strong>Cast:</strong> Kavya, Bhargav<br>
             <strong>Direction Supervision:</strong> Eswar<br>
             <strong>Genres:</strong> Romance, Nature, Telugu Wedding Films`
    },
    {
      src: "Videos/bgmi.mp4",
      title: "BGMI Beats",
      subtitle: "Game of Hearts",
      desc: "Bhargav‚Äôs favorite game became Kavya‚Äôs secret mission. What started as gameplay turned into a celebration of love and laughter.",
      meta: "2024 | Surprise Anniversary Video | Telugu | BGMI",
      info: `Kavya secretly learned BGMI to surprise Bhargav and spend more time with him in the game he enjoys.<br>
           This video is made from their actual gameplay moments, edited as a lighthearted anniversary gift showing them dancing together in-game.<br><br>
           <strong>Cast:</strong> Kavya, Bhargav (In-Game)<br>
           <strong>Edit:</strong> Eswar<br>
           <strong>Genres:</strong> Gaming, Edit, Romance`
    }
  ];

  const randomVideo = heroVideos[Math.floor(Math.random() * heroVideos.length)];

  $("mainVideoSource").src = randomVideo.src;
  mainVideo.load();
  $("heroTitle").textContent = randomVideo.title;
  $("heroSubtitle").textContent = randomVideo.subtitle;
  $("heroDesc").textContent = randomVideo.desc;
  $("modalVideoSource").src = randomVideo.src;
  $("modalVideo").load();

  infoBtn.addEventListener("click", () => {
    $("infoTitle").textContent = randomVideo.title;
    $("infoMeta").textContent = randomVideo.meta;
    $("infoDescription").innerHTML = randomVideo.info;
    infoBackdrop.style.display = "block";
    infoModal.style.display = "block";
    mainVideo.pause();
  });

  closeInfo.addEventListener("click", () => {
    infoModal.style.display = "none";
    infoBackdrop.style.display = "none";
    mainVideo.play();
  });

  const movieData = [
      {
        title: "bgmi",
        video: "Videos/bgmi.mp4",
        image: "Videos/bgmi.jpg",
        meta: `<strong>Cast:</strong> Kavya, Bhargav (In-Game)<br>
               <strong>Edit & Surprise Concept:</strong> Eswar<br>
               <strong>Genres:</strong> Gaming, Surprise Gift, Virtual Love`
      },
      {
        title: "Movie 6",
        video: "movie6.mp4",
        image: "movie6.jpg",
        meta: `<strong>Cast:</strong> Bhargav<br>
               <strong>Edit & Surprise Concept:</strong> Friend<br>
               <strong>Genres:</strong> Drama, Thriller`
      },
      {
        title: "Movie 7",
        video: "movie7.mp4",
        image: "movie7.jpg",
        meta: `<strong>Cast:</strong> Kavya<br>
               <strong>Edit & Surprise Concept:</strong> Eswar<br>
               <strong>Genres:</strong> Emotions, Life Story`
      },
      {
        title: "invitation",
        video: "Videos/invitation.mp4",
        image: "Videos/invitation.jpg",
        meta: `<strong>Cast:</strong> Bhargav<br>
               <strong>Edit & Surprise Concept:</strong> Team<br>
               <strong>Genres:</strong> War, Heroic Journey`
      }
    ];

  function renderSearchResults(results) {
    searchResults.innerHTML = "";
	if (results.length === 0) {
	  const noMatch = document.createElement("div");
	  noMatch.style.color = "#aaa";
	  noMatch.style.fontSize = "18px";
	  noMatch.style.padding = "20px";
	  noMatch.style.width = "100%";
	  noMatch.style.textAlign = "center";
	  noMatch.textContent = "No matches found.";
	  searchResults.appendChild(noMatch);
	  return;
	}
    results.forEach(item => {
      const card = document.createElement("div");
      card.className = "movie-card";
      card.dataset.video = item.video;

      const img = document.createElement("img");
      img.src = item.image;
      img.alt = item.title;

      const video = document.createElement("video");
      video.muted = true;

      card.appendChild(img);
      card.appendChild(video);
      searchResults.appendChild(card);

      card.addEventListener("mouseenter", () => {
        video.src = item.video;
        video.currentTime = 20;
        video.play();
        setTimeout(() => video.pause(), 10000);
      });

      card.addEventListener("mouseleave", () => {
        video.pause();
        video.currentTime = 0;
      });

      card.addEventListener("click", () => {
        fullscreenVideo.src = item.video;
        fullscreenPlayer.style.display = 'flex';
        fullscreenVideo.play();
      });
    });
  }

  searchInput.addEventListener("input", () => {
    const term = searchInput.value.trim().toLowerCase();
    if (term) {
      const matches = movieData.filter(item =>
        item.meta.toLowerCase().includes(term) ||
        item.title.toLowerCase().includes(term)
      );
      mainContent.style.display = "none";
      renderSearchResults(matches);
      searchResults.classList.add("active");
    } else {
      searchResults.classList.remove("active");
      mainContent.style.display = "block";
    }
  });
</script>

</body>
</html>
